configOverride: |
  [global]
  osd_pool_default_size = 2
  # osd_pool_default_min_size = 2
  mon_osd_down_out_interval = 60
  [mon]
  mon_data_avail_warn = 20
  
# ingress:
#   dashboard:
#     ingressClassName: nginx
#     host:
#       name: rook.ceph.impl.nl

toolbox:
  enabled: true

monitoring:
  enabled: false
  metricsDisabled: true

cephClusterSpec:
  removeOSDsIfOutAndSafeToRemove: true
  mon:
    count: 3
  mgr:
    count: 1
    modules:
      - name: pg_autoscaler
        enabled: true
      - name: rook
        enabled: true
  dashboard:
    enabled: true
    urlPrefix: /
    port: 9000
    ssl: false
  network:
    provider: host
  storage:
    useAllNodes: false
    useAllDevices: false
    nodes:
      - name: node60
        devices:
          - name: /dev/disk/by-id/nvme-TS512GMTE400S_I216680896
      - name: node61
        devices:
          - name: /dev/disk/by-id/nvme-TS256GMTE400S_H790500043
  crashCollector:
    disable: true
  placement:
    all:
      tolerations:
        - key: "node.kubernetes.io/unschedulable"
          operator: "Exists"
          effect: "NoSchedule"
        - key: node-role.kubernetes.io/control-plane
          operator: "Exists"
          effect: "NoSchedule"
    mgr:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/hostname
              operator: In
              values:
              - raspi4
  resources:
    mgr:
      limits:
        cpu: "750m"
        memory: "1Gi"
      requests:
        cpu: "500m"
        memory: "512Mi"
    mon:
      limits:
        cpu: "1000m"
        memory: "512Mi"
      requests:
        cpu: "500m"
        memory: "512Mi"
cephBlockPools:
  - name: ceph-blockpool-big
    spec:
      replicated:
        size: 2
      enableRBDStats: false
    storageClass:
      enabled: true
      name: ceph-block-big
      isDefault: true
      reclaimPolicy: Retain
      allowVolumeExpansion: true
      parameters:
        imageFormat: "2"
        csi.storage.k8s.io/provisioner-secret-name: rook-csi-rbd-provisioner
        csi.storage.k8s.io/provisioner-secret-namespace: rook-ceph
        csi.storage.k8s.io/controller-expand-secret-name: rook-csi-rbd-provisioner
        csi.storage.k8s.io/controller-expand-secret-namespace: rook-ceph
        csi.storage.k8s.io/node-stage-secret-name: rook-csi-rbd-node
        csi.storage.k8s.io/node-stage-secret-namespace: rook-ceph
        csi.storage.k8s.io/fstype: ext4
cephFileSystems: []
cephObjectStores: []
        